# H1 多模態金融推理：圖表與表格理解能力評估

## 研究問題

CFA 考試大量使用 exhibit（財務報表、收益率曲線圖、投資組合配置表、回歸分析散佈圖等），但現有所有 CFA + LLM 研究（包括 FinDAP 及本專案的 A-G 系列）均僅處理純文字輸入。這產生了系統性偏差：我們測量的是「文字描述金融問題的推理能力」，而非「真實考試情境下的金融推理能力」。

隨著 Vision-Language Models (VLMs) 的成熟（GPT-4V/4o、Gemini 2.5 Pro、Claude Opus 4 等），多模態金融推理的評估不僅可行，而且是評估 AI 是否真正具備「CFA 考生等級」能力的必要維度。

### 核心假說

1. **圖表理解是獨立瓶頸**：即使模型的純文字金融推理能力很強，加入圖表後準確率會顯著下降（預期 -10% 至 -25%）
2. **不同圖表類型難度差異大**：財務報表（結構化表格）vs 收益率曲線（連續圖形）vs 散佈圖（統計圖表）的難度排序不同
3. **圖表 + 文字的整合推理**是最難的：需要同時理解圖表數據和文字敘述的題目，錯誤率最高

## 技術方法

### Phase 1：多模態 CFA 基準建構

從 CFA_Extracted 資料中篩選含 exhibit 的題目，分為三類：
- **Type T**：純表格 exhibit（財報、利率表、投資組合持倉）
- **Type G**：圖形 exhibit（收益率曲線、價格走勢圖、散佈圖）
- **Type M**：混合 exhibit（表格 + 圖形 + 文字描述）

每道題製作兩個版本：
- **Version V**：含原始圖片的多模態版本
- **Version T**：圖表內容轉為文字描述的純文字版本

### Phase 2：多模態 vs 純文字差距量測

核心指標：`multimodal_gap = acc_text_version - acc_visual_version`

測試模型：
- 多模態模型：GPT-4o, Gemini 2.5 Pro, Claude Opus 4
- 純文字基線：同模型的純文字版本

### Phase 3：圖表理解階段分解

將圖表理解拆為三個子階段：
1. **數據讀取**：能否正確從圖表中提取數值？
2. **趨勢辨識**：能否正確判斷圖表中的趨勢/模式？
3. **整合推理**：能否將圖表信息與題幹文字結合進行推理？

## 實驗設計

### 實驗 1：多模態差距基線
- 100+ 道含 exhibit 的 CFA 題（Version V vs Version T）
- 3 個多模態模型 × 2 版本 = 6 組實驗
- McNemar's test 檢驗顯著性

### 實驗 2：圖表類型難度分層
- Type T / G / M 三類題目的分別準確率
- 與 G4 Cognitive Demand Level 交叉分析

### 實驗 3：階段分解實驗
- 圖表理解的三個子階段各自準確率
- 對應 B1 五階段管道的 Stage 3（數值提取）擴展

### 實驗 4：圖表描述品質對準確率的影響
- 不同品質的文字描述（詳細 / 摘要 / 關鍵數據）如何影響純文字版本的準確率
- 探索「最少必要描述」的下限

## 預期結果

1. 多模態差距在圖形類（Type G）最大（-15% 至 -25%），表格類（Type T）最小（-5% 至 -10%）
2. 數據讀取階段是主要瓶頸（模型能「看懂」圖但讀不準數字）
3. GPT-4o 在表格理解上領先，Gemini 2.5 Pro 在圖形理解上較強

## 新穎貢獻

1. **首個多模態 CFA 推理基準**：填補所有現有研究的純文字限制
2. **多模態差距的系統性量化**：不是模糊地說「圖表很難」，而是精確量化每種圖表類型的影響
3. **圖表理解階段分解**：對應 B1 管道，將多模態理解納入統一的認知管道框架

## 目標投稿場所

- ACL / EMNLP（多模態 NLP track）
- AAAI / NeurIPS（AI + Finance workshop）
- Financial Innovation（跨領域期刊）

## 依賴關係

- 與 B1 五階段管道互補（擴展 Stage 3 到多模態）
- 與 A2 四層級評估互補（新增 Level 4：多模態層級）
- 與 G4 認知需求分類互補（圖表題通常為 Level 4-5）
- 需要含圖片的 CFA 題目資料（需要從 PDF 教材提取或手動建構）

## 時間與資源

- 基準建構：3-4 週（含人工整理圖表題）
- 實驗執行：2-3 週
- 分析撰寫：2 週
- 主要成本：多模態 API 調用費用（GPT-4o vision 較貴）
- 不需要 GPU 訓練
